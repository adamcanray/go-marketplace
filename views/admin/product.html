{{ template "layout" .}} {{ define "main" }}
<div class="container">
  <div class="d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center">
      <nav aria-label="pagination">
        <ul class="pagination pagination-sm" style="margin: 0px">
          <li class="page-item {{ if eq .Meta.Page 1 }} disabled {{ end }}">
            <a
              class="page-link"
              href="/admin/product?page={{ .Meta.PagePrev }}&content_per_page={{ .Meta.ContentPerPage }}"
            >
              Previous
            </a>
          </li>
          {{ range .Meta.MaxPageSlice}}
          <li
            class="page-item {{if eq .num $.Meta.Page}} active {{ end }}"
            aria-current="page"
          >
            <a
              class="page-link"
              href="/admin/product?page={{ .num }}&content_per_page={{ $.Meta.ContentPerPage }}"
              >{{ .num }}</a
            >
          </li>
          {{end}}
          <li
            class="page-item {{ if eq .Meta.Page .Meta.MaxPage }} disabled {{ end }}"
          >
            <a
              class="page-link"
              href="/admin/product?page={{ .Meta.PageNext }}&content_per_page={{ .Meta.ContentPerPage }}"
            >
              Next
            </a>
          </li>
        </ul>
      </nav>
      <div class="dropdown ms-3">
        <a
          class="btn btn-sm btn-outline-primary dropdown-toggle"
          href="#"
          role="button"
          id="dropdownMenuLink"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          {{ .Meta.ContentPerPage }}
        </a>

        <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <li>
            <a
              class="dropdown-item {{ if eq .Meta.ContentPerPage 5 }} active {{ end }}"
              href="/admin/product?page={{ .Meta.Page }}&content_per_page=5"
            >
              5
            </a>
          </li>
          <li>
            <a
              class="dropdown-item {{ if eq .Meta.ContentPerPage 10 }} active {{ end }}"
              href="/admin/product?page={{ .Meta.Page }}&content_per_page=10"
            >
              10
            </a>
          </li>
          <li>
            <a
              class="dropdown-item {{ if eq .Meta.ContentPerPage 25 }} active {{ end }}"
              href="/admin/product?page={{ .Meta.Page }}&content_per_page=25"
            >
              25
            </a>
          </li>
        </ul>
      </div>
      <p class="fw-bold ms-3 mb-0" style="font-size: 14px">
        Showing {{ .Meta.ContentPerPage }} of {{ .Meta.Total }} rows.
      </p>
    </div>
    <a type="button" class="btn btn-success btn-sm" href="/admin/product/add">
      Add New Product
    </a>
  </div>
  <table class="table table-sm mt-4">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Price</th>
        <th scope="col">Stock</th>
        <th scope="col">Created At</th>
        <th scope="col">Updated At</th>
        <th scope="col">Action</th>
      </tr>
      {{ range .Data.Products}}
      <tr>
        <th scope="row">{{ .ID }}</th>
        <td>{{ .Name }}</td>
        <td class="format-to-rupiah">{{ .Price }}</td>
        <td>{{ .Stock }}</td>
        <td>{{ .CreatedAt }}</td>
        <td>{{ .UpdatedAt }}</td>
        <td>
          <a
            class="badge bg-info text-dark"
            style="cursor: pointer"
            href="/admin/product?id={{ .ID }}"
          >
            detail
          </a>
          <a
            class="badge bg-warning text-dark"
            style="cursor: pointer"
            href="/admin/product/edit?id={{ .ID }}"
          >
            edit
          </a>
          <a
            class="badge bg-danger text-white"
            style="cursor: pointer"
            href="/admin/product/delete/process?id={{ .ID }}"
            onclick="return confirm('Are you sure want delete product with id {{ .ID }}?')"
          >
            delete
          </a>
        </td>
      </tr>
      {{ end }}
    </thead>
  </table>
  <div class="d-flex justify-content-end mt-4">
    <div class="d-flex align-items-center">
      <p class="fw-bold me-3 mb-0" style="font-size: 14px">
        Showing {{ .Meta.ContentPerPage }} of {{ .Meta.Total }} rows.
      </p>
      <nav aria-label="pagination">
        <ul class="pagination pagination-sm" style="margin: 0px">
          <li class="page-item {{ if eq .Meta.Page 1 }} disabled {{ end }}">
            <a
              class="page-link"
              href="/admin/product?page={{ .Meta.PagePrev }}&content_per_page={{ .Meta.ContentPerPage }}"
            >
              Previous
            </a>
          </li>
          {{ range .Meta.MaxPageSlice}}
          <li
            class="page-item {{if eq .num $.Meta.Page}} active {{ end }}"
            aria-current="page"
          >
            <a
              class="page-link"
              href="/admin/product?page={{ .num }}&content_per_page={{ $.Meta.ContentPerPage }}"
              >{{ .num }}</a
            >
          </li>
          {{end}}
          <li
            class="page-item {{ if eq .Meta.Page .Meta.MaxPage }} disabled {{ end }}"
          >
            <a
              class="page-link"
              href="/admin/product?page={{ .Meta.PageNext }}&content_per_page={{ .Meta.ContentPerPage }}"
            >
              Next
            </a>
          </li>
        </ul>
      </nav>
      <div class="dropdown ms-3">
        <a
          class="btn btn-sm btn-outline-primary dropdown-toggle"
          href="#"
          role="button"
          id="dropdownMenuLink"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          {{ .Meta.ContentPerPage }}
        </a>

        <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <li>
            <a
              class="dropdown-item {{ if eq .Meta.ContentPerPage 5 }} active {{ end }}"
              href="/admin/product?page={{ .Meta.Page }}&content_per_page=5"
            >
              5
            </a>
          </li>
          <li>
            <a
              class="dropdown-item {{ if eq .Meta.ContentPerPage 10 }} active {{ end }}"
              href="/admin/product?page={{ .Meta.Page }}&content_per_page=10"
            >
              10
            </a>
          </li>
          <li>
            <a
              class="dropdown-item {{ if eq .Meta.ContentPerPage 25 }} active {{ end }}"
              href="/admin/product?page={{ .Meta.Page }}&content_per_page=25"
            >
              25
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
{{ end }}
